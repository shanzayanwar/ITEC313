import javafx.application.Application;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.control.TextArea;
import javafx.scene.layout.VBox;
import javafx.stage.Stage;

import java.io.*;
import java.util.Random;

public class BinaryFileIntegers extends Application {

    @Override
    public void start(Stage primaryStage) {
        TextArea textArea = new TextArea();
        textArea.setEditable(false); // Make TextArea read-only

        Button writeButton = new Button("Write 100 Random Integers");

        writeButton.setOnAction(e -> {
            String filename = "integers.dat";
            Random rand = new Random();

            // Write 100 random integers (0-99) to the file
            try (DataOutputStream dos = new DataOutputStream(
                    new BufferedOutputStream(new FileOutputStream(filename)))) {

                for (int i = 0; i < 100; i++) {
                    int randomInt = rand.nextInt(100); // Generate number 0-99
                    dos.writeInt(randomInt);
                }

            } catch (IOException ex) {
                ex.printStackTrace();
            }

            // Read integers from the file and display in TextArea
            try (DataInputStream dis = new DataInputStream(
                    new BufferedInputStream(new FileInputStream(filename)))) {

                textArea.clear();
                int count = 0;

                while (true) {
                    try {
                        int number = dis.readInt();
                        textArea.appendText(number + " ");
                        count++;
                        if (count % 10 == 0) {
                            textArea.appendText("\n");
                        }
                    } catch (EOFException eof) {
                        break; // End of file
                    }
                }

            } catch (IOException ex) {
                ex.printStackTrace();
            }
        });

        VBox root = new VBox(10, writeButton, textArea);
        root.setStyle("-fx-padding: 10;");

        Scene scene = new Scene(root, 500, 400);
        primaryStage.setTitle("Binary File Random Integers");
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    public static void main(String[] args) {
        launch(args);
    }
}



